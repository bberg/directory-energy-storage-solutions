import{_ as g}from"./B-ePAPfv.js";import{q as h,d as w,x as b,m as _,L as v,K as C,c as x,J as L,I as i}from"./ZRTsPAPq.js";import{u as q}from"./Mv9HTLpw.js";import"./CLr-d9mf.js";import"./Cws987MZ.js";import"./DQe0svj7.js";function A(){return q("board",()=>{const e=h("/dir");return e.where({_extension:"md"}),e.only(["featured","card_image","description","title","_path","invert"]),e.sort({featured:1}).find()})}const K=w({__name:"DirectoryGrid",async setup(f){let e,n;const a=b().directory.grid,c=_("search"),u=_("tags"),{data:l}=([e,n]=v(()=>A()),e=await e,n(),e),y=C(()=>{let t=l.value;return t?(c.value&&(t=t==null?void 0:t.filter(o=>{var s,r;return(((s=o.title)==null?void 0:s.toLowerCase())+((r=o.description)==null?void 0:r.toLowerCase())).includes(c.value.toLowerCase())})),u.value.length>0&&(t=t==null?void 0:t.filter(o=>u.value.every(s=>{var r;return(r=o.tags)==null?void 0:r.includes(s)}))),t):[]});return(t,o)=>{var r,m,d,p;const s=g;return x(),L(s,{listings:i(y)??[],"show-submit":(m=(r=i(a))==null?void 0:r.submit)==null?void 0:m.show,"submit-first":(p=(d=i(a))==null?void 0:d.submit)==null?void 0:p.first},null,8,["listings","show-submit","submit-first"])}}});export{K as default};
